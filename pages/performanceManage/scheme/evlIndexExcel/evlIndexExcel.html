<!-- 
  @Created by xujiawei xujy3@yusys.com.cn on 2020-4-20 14:45:55.
  @updated by
  @description 派生指标excel用
-->
<div>
  <yu-xform related-table-name="refTable" form-type="search">
    <yu-xform-group :column="4">
      <yu-xform-item placeholder="指标编号" name="indexId" ctype="input"></yu-xform-item>
      <yu-xform-item placeholder="指标名称" name="indexName" ctype="input"></yu-xform-item>
    </yu-xform-group>
  </yu-xform>
  <div class="yu-toolBar">
    <yu-button-group>
      <yu-button icon="plus" @click="addFn">新增</yu-button>
      <yu-button icon="edit" @click="modifyFn">修改</yu-button>
      <yu-button icon="document" @click="infoFn">详情</yu-button>
      <yu-button icon="yx-bin" @click="deleteFn">删除</yu-button>
    </yu-button-group>
  </div>
  <yu-xtable ref="refTable" row-number :data-url="dataUrl" selection-type="radio">
    <yu-xtable-column label="指标编号" prop="indexId"></yu-xtable-column>
    <yu-xtable-column label="指标名称" prop="indexName" ></yu-xtable-column>
    <yu-xtable-column label="考核对象" prop="evlObjType" data-code="OBJ"></yu-xtable-column>
    <yu-xtable-column label="创建机构" prop="orgName"></yu-xtable-column>
    <yu-xtable-column label="创建人" prop="createUserName"></yu-xtable-column>
    <yu-xtable-column label="创建时间" prop="createDate"></yu-xtable-column>
    <yu-xtable-column label="修改人" prop="modifyUserName"></yu-xtable-column>
    <yu-xtable-column label="修改时间" prop="modifyDate"></yu-xtable-column>
  </yu-xtable>
  <!-- 说明dialog可配置宽高属性，若不配置则宽度默认为屏幕50%，高度自适应
     width="650px" height="380px" -->
     <yu-xdialog :title="viewTitle[viewType]" :visible.sync="dialogVisible" width="800px">
      <yu-xform ref="refForm" label-width="100px" v-model="formdata" :disabled="formDisabled">
        <yu-xform-group>
          <yu-xform-item label="指标编号" ctype="input" name="indexId" :hidden="hiddenDis" :disabled="true"></yu-xform-item>
          <yu-xform-item label="指标名称" ctype="input" name="indexName" :rules="rule[0]"></yu-xform-item>
          <yu-xform-item label="考核对象" ctype="select" name="evlObjType" data-code="OBJ"></yu-xform-item>
          <yu-xform-item label="描述" ctype="textarea" name="remark" :rows="4"  :colspan="24"></yu-xform-item>
        </yu-xform-group>
        <div class="yu-grpButton">
          <yu-button v-show="saveBtnShow" icon="check" type="primary" @click="saveFn">保存</yu-button>
          <yu-button icon="yx-undo2" type="primary" @click="cancelFn">取消</yu-button>
        </div>
      </yu-xform>
    </yu-xdialog>
</div>