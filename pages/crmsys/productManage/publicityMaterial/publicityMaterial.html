<!--
 * @create by: ranxun@yusys.com.cn
 * @Date: 2021-08-10 18:03:37
 * @update by: 
 * @description: 
-->
<!-- 
  @Created by 闫天一 yanty1@yusys.com.cn on 2019-1-29 10:11:51.
  @updated by
  @description 产品视图-宣传资料
-->
<div>
    <div class="yu-toolBar">
      <yu-button-group>
        <yu-button icon="plus" @click="addFn" v-if="addBtn">新增</yu-button>
        <yu-button icon="edit" @click="modifyFn" v-if="editBtn">修改</yu-button>
        <yu-button icon="delete" @click="deleteFn" v-if="deleteBtn">删除</yu-button>  
         <yu-button icon="document" @click="infoFn" v-if="detailBtn">详情</yu-button>  
      </yu-button-group>
    </div>

    <yu-xtable ref="refTable" row-number :data-url="dataUrl" :highlight-current-row="true" :stripe="true">
      <yu-xtable-column label="资料类型" prop="dataType" width="350" data-code="CD0432"></yu-xtable-column>
    </yu-xtable>

    <yu-xdialog :title="viewTitle[viewType]" :visible.sync="dialogVisible" width="1050px">
      <yu-xform ref="refForm" label-width="100px" v-model="formdata" :disabled="formDisabled">
        <yu-xform-group :column="2">
          <yu-xform-item label="主键ID" name="id" ctype="input" :hidden="true"></yu-xform-item>
          <yu-xform-item label="资料类型" name="dataType" ctype="select" width="200" :rules="rule.dataType" data-code="CD0432"></yu-xform-item>
        </yu-xform-group>
        <el-collapse value="1">
            <el-collapse-item title="附件列表" name="1">
                <yufp-upload-table ref="fileTable" :data-params="initFilesParams" :data ="fileUpLoadBusNo" :multiple="false"
                  :upload-visible="fileBtnVisible" :download-visible="fileBtnVisible1" :delete-visible="fileBtnVisible" 
                  :before-upload="beforeFileUpload" :success-fn="uploadSuccessFn"></yufp-upload-table>
            </el-collapse-item>
          </el-collapse>
        <div class="yu-grpButton">
          <yu-button icon="yx-undo2" type="primary" @click="cancelFn">取消</yu-button>
          <yu-button v-show="saveBtnShow" icon="check" type="primary" @click="saveFn">保存</yu-button>
        </div>
      </yu-xform>
    </yu-xdialog>
</yu-row>
</div>